# ุชุญุณููุงุช ุงูุฃูุงู ูู Profile Update

## โ ุงูุชุญุณููุงุช ุงููุทุจูุฉ:

### 1. **Whitelist Approach (ูุงุฆูุฉ ุจูุถุงุก)**
- ููุท ุงูุญููู ุงููุณููุญ ุจูุง ูููู ุชุญุฏูุซูุง:
  - `nameAr`, `nameEn`, `phone`, `department`, `year`, `semester`, `gender`, `avatar`
- ุฃู ุญูู ุขุฎุฑ ูุชู ุชุฌุงููู ุชููุงุฆูุงู

### 2. **ููุน ุชุญุฏูุซ ุงูุญููู ุงูุญุณุงุณุฉ**
- ุงูุญููู ุงูุชุงููุฉ **ูุญุธูุฑุฉ ุชูุงูุงู** ูู ุงูุชุญุฏูุซ:
  - `id`, `email`, `password`, `role`, `status`, `refreshToken`, `createdAt`, `updatedAt`
- ุฅุฐุง ุญุงูู ุงููุณุชุฎุฏู ุชุญุฏูุซ ุฃู ูู ูุฐู ุงูุญูููุ ุณูุชู ุฑูุถ ุงูุทูุจ ุจู 403

### 3. **Validation ูุญุณูู**
- ุงูุชุญูู ูู ุฃู `nameAr` ู `nameEn` ุบูุฑ ูุงุฑุบุฉ
- ุงูุชุญูู ูู ุฃู `gender` ุฅูุง `MALE` ุฃู `FEMALE` ุฃู `null`
- ุงูุชุญูู ูู ุฃู `phone` ูุฑูุฏ (ูุง ููุฑุฑ)
- ุงูุชุญูู ูู ุฃู `year` ู `semester` ุฃุฑูุงู ุตุญูุญุฉ

### 4. **Security: JWT Token Authentication**
- ุงููุณุชุฎุฏู ููููู ุชุญุฏูุซ ูููู ููุท (ูู ุฎูุงู `req.user.id` ูู JWT token)
- ูุง ูููู ูุฃู ูุณุชุฎุฏู ุชุญุฏูุซ ููู ูุณุชุฎุฏู ุขุฎุฑ
- `req.user.id` ูุฃุชู ูู JWT token ุงูููููุนุ ูุฐุง ูุง ูููู ุชุฒููู

### 5. **ุฅุถุงูุฉ Gender**
- ุชู ุฅุถุงูุฉ ุญูู `gender` ุฅูู profile update
- ูููู ููุทุงูุจ ุชุญุฏูุซ ุฌูุณู ูู ุตูุญุฉ Profile

## ๐ ููุงุฐุง Body ุขููุ

### Body vs Query Parameters:
- **Body (POST/PUT)**: 
  - โ ุขูู ูุน HTTPS (ูุดููุฑ)
  - โ ูุง ูุธูุฑ ูู URL logs
  - โ ูุง ูุธูุฑ ูู browser history
  - โ ูููู ุฅุฑุณุงู ุจูุงูุงุช ูุจูุฑุฉ (ูุซู ุงูุตูุฑ)

- **Query Parameters**:
  - โ ูุธูุฑ ูู URL
  - โ ูุธูุฑ ูู server logs
  - โ ูุธูุฑ ูู browser history
  - โ ูุญุฏูุฏ ูู ุงูุทูู

### ุงูุฃูุงู ุงูุญุงูู:
1. โ **HTTPS**: ุฌููุน ุงูุจูุงูุงุช ูุดููุฑุฉ ูู transit
2. โ **JWT Authentication**: ุงููุณุชุฎุฏู ูุตุงุฏู ุนููู
3. โ **Whitelist**: ููุท ุงูุญููู ุงููุณููุญ ุจูุง
4. โ **Blacklist**: ุงูุญููู ุงูุญุณุงุณุฉ ูุญุธูุฑุฉ
5. โ **Validation**: ุฌููุน ุงูุจูุงูุงุช ูุชู ุงูุชุญูู ูููุง
6. โ **User Isolation**: ูู ูุณุชุฎุฏู ูุญุฏูุซ ูููู ููุท

## ๐ ููุงุญุธุงุช:

- ุงุณุชุฎุฏุงู Body ูุน HTTPS **ุฃูุซุฑ ุฃูุงูุงู** ูู Query Parameters
- ุงูุชุญุณููุงุช ุงููุทุจูุฉ ุชุถูู ุฃู ุงููุณุชุฎุฏู ูุง ููููู:
  - ุชุญุฏูุซ ุญููู ุญุณุงุณุฉ
  - ุชุญุฏูุซ ููู ูุณุชุฎุฏู ุขุฎุฑ
  - ุฅุฑุณุงู ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ

## ๐งช ุงุฎุชุจุงุฑ:

1. ุฌุฑุจ ุชุญุฏูุซ profile - ูุฌุจ ุฃู ูุนูู ุจุดูู ุตุญูุญ
2. ุฌุฑุจ ุฅุฑุณุงู ุญูู ูุญุธูุฑ (ูุซู `role`) - ูุฌุจ ุฃู ูุชู ุฑูุถู
3. ุฌุฑุจ ุฅุฑุณุงู ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ - ูุฌุจ ุฃู ูุชู ุฑูุถูุง

